<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SafeRoute</title>

  <link rel="stylesheet" href="style.css" />

  </head>

<body>

  <!-- Sidebar Toggle Button (original preserved) -->
  <button id="toggleSidebar" class="sidebar-toggle">â˜°</button>

  <!-- SIDEBAR (original preserved, only features added) -->
  <div id="sidebar" class="sidebar">

    <h2 class="sidebar-title">SafeRoute</h2>

    <!-- User Profile Box -->
    <div class="profile-box">
      <h3 id="profileName">Guest</h3>
      <p id="profileEmail"></p>
    </div>

    <!-- Login / Logout -->
    <button id="openLoginBtn" class="btn-secondary">Login / Register</button>
    <button id="logoutBtn" class="btn-secondary hidden">Logout</button>

    <hr>

    <!-- Existing buttons but now working -->
    <button id="openContactsBtn" class="btn-secondary">Emergency Contacts</button>
    <button id="sosBtn" class="btn-primary">ðŸš¨ SOS</button>
    <button id="openHistoryBtn" class="btn-secondary">Location History</button>
    <button id="openReportSidebarBtn" class="btn-secondary">Report Issue</button>

  </div>

  <!-- ORIGINAL HEADER preserved -->
  <div class="header">
    <h1>SafeRoute</h1>
    <p>Your personal safe navigation companion</p>
  </div>

  <!-- ORIGINAL INPUT CONTAINER preserved -->
  <div class="container">
    <input id="start" type="text" placeholder="Enter starting location" class="input-field" />
    <input id="end" type="text" placeholder="Enter destination" class="input-field" />

    <button id="calcBtn" class="btn-primary">Calculate Safe Route</button>

    <p id="routeStatus"></p>
  </div>

  <!-- ORIGINAL MAP preserved -->
  <div id="map"></div>

  <!-- ========================================================= -->
  <!-- MODALS ADDED (no original content removed)                -->
  <!-- ========================================================= -->

  <!-- LOGIN & REGISTER MODAL -->
  <div id="authModal" class="modal hidden">
    <div class="modal-content">

      <span id="authClose" class="close">&times;</span>

      <h2 id="authTitle">Login</h2>

      <form id="authForm">
        <label>Email</label>
        <input type="email" id="authEmail" class="input-field" placeholder="Enter your email" required />

        <label>Password</label>
        <input type="password" id="authPassword" class="input-field" placeholder="Enter password" required />

        <div id="nameGroup" style="display:none;">
          <label>Name</label>
          <input type="text" id="authName" class="input-field" placeholder="Your name" />
        </div>

        <button id="authSubmit" class="btn-primary" type="submit">Login</button>

        <p style="text-align: center; margin-top: 10px;">
          <a href="#" id="toggleAuthMode">Don't have an account? Register</a>
        </p>

      </form>

    </div>
  </div>


  <!-- REPORT ISSUE MODAL (same as original, only improved behavior) -->
  <div id="reportModal" class="modal hidden">
    <div class="modal-content">
      <span id="closeReport" class="close">&times;</span>

      <h2>Report an Issue</h2>

      <label>Type of Issue</label>
      <select id="reportType" class="input-field">
        <option value="suspicious_activity">Suspicious Activity</option>
        <option value="harassment">Harassment</option>
        <option value="unsafe_area">Unsafe Area</option>
      </select>

      <label>Description</label>
      <textarea id="reportDescription" rows="3" class="input-field"></textarea>

      <button id="submitReport" class="btn-primary">Submit Report</button>
    </div>
  </div>


  <!-- EMERGENCY CONTACTS MODAL -->
  <div id="contactsModal" class="modal hidden">
    <div class="modal-content">

      <span id="closeContacts" class="close">&times;</span>

      <h2>Emergency Contacts</h2>

      <div id="contactsList" style="margin-bottom: 12px;"></div>

      <h3>Add Contact</h3>

      <input id="contactName" class="input-field" placeholder="Name (optional)">
      <input id="contactPhone" class="input-field" placeholder="Phone (+91...)">

      <button id="addContactBtn" class="btn-primary">Add Contact</button>

    </div>
  </div>


  <!-- SCRIPTS -->
  <script src="config.js" defer></script>
  <script src="app.js" defer></script>

  <!-- Google Maps Script -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAebd8duQVQT7TL9lL29FJaXef4IfZTtnI&callback=initMap" defer></script>

  <div id="toast" class="toast"></div>


</body>
</html>
